parameters:
  - name: pathToSrcDirectory
  - name: artifactName

steps:
  - checkout: self
    persistCredentials: 'true'
  - template: print-env.yml
  - displayName: Create Build Artifact
    bash: |
        zip -r $(Build.ArtifactStagingDirectory)/${{ parameters.artifactName }}.zip ${{ parameters.pathToSrcDirectory }}/
  - publish: $(Build.ArtifactStagingDirectory)
    artifact: ${{ parameters.artifactName }}
